set -g default-shell /bin/zsh

# Set default termtype
set -g default-terminal screen-256color

# Act like GNU screen
set -g prefix C-a

# Send prefix to a window as if it was pressed
bind-key C-a send-prefix

# Free original ctrl-b prefix
unbind C-b

# Create splits and vertical splits
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Use vi bindings in copy and choice modes
setw -g mode-keys vi

# Switch panes using vi bindings
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Pane resize using vi bindings
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Patch for OS X pbpaste and pbcopy under tmux.
set-option -g default-command "which reattach-to-user-namespace > /dev/null && reattach-to-user-namespace -l $SHELL || $SHELL"

# Act like vim in copy mode
bind -t vi-copy v begin-selection
bind -t vi-copy y copy-selection #copy-pipe "reattach-to-user-namespace pbcopy"

#unbind -t vi-copy Enter
#bind -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# Reload tmux.conf
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# Start window and pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows sequentially after closing
set -g renumber-windows on

# Disable automatic window renaming
set -g allow-rename off

# Bigger history
set -g history-limit 10000

# No escape time for vi mode
# set -sg escape-time 0

# Use mouse to enter copy mode
# setw -g mode-mouse on (see timstott/dotfiles#2)

# Local config
if-shell "[ -f ~/.tmux.conf.user ]" 'source ~/.tmux.conf.user'
